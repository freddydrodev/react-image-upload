{"version":3,"sources":["/Users/drofreddyjuniordiomande/.projects/libs/nodejs/react-image-upload/dist/index.js","../src/index.tsx","../src/ReactImagePicker.tsx","../src/uploadImage.ts"],"names":["__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__export","target","all","name","get","enumerable","__copyProps","to","from","except","desc","key","call","__toESM","mod","isNodeMode","__esModule","value","__toCommonJS","index_exports","ReactImagePicker","default","index_default","uploadImage","module","exports","React","require","import_dropzone","import_material","import_react_dropzone","Dropzone","autoDiscover","initImages","onImageChange","maxFiles","label","description","deleteIcon","deleteBtnColor","deleteIconColor","localImage","hideTitle","sectionGap","imageGap","imageGridCount","imageBorderRadius","sx","props","useState","files","setFiles","useDropzone","accept","minSize","multiple","onDropRejected","fileRejections","event","multipleText","length","alert","onDrop","acceptedFiles","newList","map","file","assign","preview","URL","createObjectURL","filter","_file","getRootProps","getInputProps","useEffect","forEach","revokeObjectURL","reachedLimit","gridTemplateColumns","size","createElement","Stack","padding","boxSizing","aspectRatio","width","border","p","overflow","className","spacing","cursor","Typography","fontWeight","fontSize","lineHeight","textAlign","display","gap","maxHeight","fileIsString","src","imgProps","height","style","objectFit","alt","alignItems","justifyContent","borderRadius","position","margin","boxShadow","zIndex","top","left","bgcolor","backdropFilter","transition","opacity","Fab","color","onClick","e","_files","f","isString","stopPropagation","DeleteIcon","variant","xmlns","fill","viewBox","d","import_storage","storage","isProd","path","_path","fullPath","storageRef","uploadTask","url","endsWith","slice","trim","ref","uploadBytesResumable","getDownloadURL","snapshot"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.tsx\nvar index_exports = {};\n__export(index_exports, {\n  ReactImagePicker: () => ReactImagePicker,\n  default: () => index_default,\n  uploadImage: () => uploadImage\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/ReactImagePicker.tsx\nvar React = __toESM(require(\"react\"));\nvar import_dropzone = __toESM(require(\"dropzone\"));\nvar import_material = require(\"@mui/material\");\nvar import_react_dropzone = require(\"react-dropzone\");\nimport_dropzone.default.autoDiscover = false;\nvar ReactImagePicker = ({\n  initImages = [],\n  onImageChange,\n  maxFiles = 1,\n  label = \"Images\",\n  description,\n  deleteIcon,\n  deleteBtnColor = \"#f44336\",\n  deleteIconColor = \"#ffffff\",\n  localImage,\n  hideTitle = false,\n  sectionGap = \"15px\",\n  imageGap = \"10px\",\n  imageGridCount = 3,\n  imageBorderRadius = \"15px\",\n  sx,\n  ...props\n}) => {\n  const [files, setFiles] = React.useState(initImages);\n  const { getRootProps, getInputProps } = (0, import_react_dropzone.useDropzone)({\n    accept: { \"image/*\": [] },\n    minSize: 1024,\n    maxFiles,\n    multiple: maxFiles === 1 ? false : true,\n    onDropRejected(fileRejections, event) {\n      const multipleText = fileRejections.length > 1 ? \"Fichiers ont \\xE9t\\xE9 r\\xE9fus\\xE9s\" : \"Fichier a \\xE9t\\xE9 r\\xE9fus\\xE9\";\n      alert(`${fileRejections.length} ${multipleText}.`);\n    },\n    onDrop: (acceptedFiles) => {\n      const newList = [\n        ...files,\n        ...acceptedFiles.map(\n          (file) => Object.assign(file, {\n            preview: URL.createObjectURL(file)\n          })\n        ).filter(\n          (file) => files.filter((_file) => {\n            if (typeof _file === \"string\") return false;\n            return _file.name === file.name;\n          }).length === 0\n        )\n      ];\n      setFiles(newList);\n      if (onImageChange) {\n        onImageChange(newList);\n      }\n    }\n  });\n  React.useEffect(\n    () => () => {\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\n    },\n    [files]\n  );\n  const reachedLimit = files.length >= maxFiles;\n  let gridTemplateColumns = `repeat(${imageGridCount}, 1fr)`;\n  let size = 115;\n  if (maxFiles === 1) {\n    gridTemplateColumns = \"1fr\";\n    size = 200;\n  }\n  if (maxFiles === 2) {\n    gridTemplateColumns = \"1fr 1fr\";\n    size = 175;\n  }\n  return /* @__PURE__ */ React.createElement(\n    import_material.Stack,\n    {\n      ...props,\n      sx: {\n        padding: \"20px\",\n        boxSizing: \"border-box\",\n        aspectRatio: 1,\n        width: 400,\n        ...sx,\n        \"& .dropzone\": { border: 0, p: 0 },\n        overflow: \"visible\"\n      }\n    },\n    /* @__PURE__ */ React.createElement(\n      import_material.Stack,\n      {\n        ...!reachedLimit ? getRootProps({ className: \"dropzone\" }) : {},\n        spacing: sectionGap,\n        sx: { cursor: reachedLimit ? \"auto\" : \"pointer\" }\n      },\n      /* @__PURE__ */ React.createElement(\"input\", { ...getInputProps() }),\n      !hideTitle && /* @__PURE__ */ React.createElement(\n        import_material.Typography,\n        {\n          fontWeight: 700,\n          fontSize: \"2rem\",\n          lineHeight: \"1em\",\n          textAlign: \"center\"\n        },\n        label\n      ),\n      /* @__PURE__ */ React.createElement(\n        import_material.Typography,\n        {\n          fontWeight: 500,\n          fontSize: \"1rem\",\n          lineHeight: \"1.3em\",\n          textAlign: \"center\"\n        },\n        description ?? (!reachedLimit ? \"Vous pouvez ajouter les images en cliquant ici.\" : \"Vous avez ajout\\xE9 le maximum d'Images possible\")\n      ),\n      /* @__PURE__ */ React.createElement(\n        import_material.Stack,\n        {\n          display: \"grid\",\n          sx: {\n            gridTemplateColumns,\n            gap: imageGap,\n            maxHeight: 380\n          }\n        },\n        files.map((file) => {\n          const fileIsString = typeof file === \"string\";\n          const _file = fileIsString ? { name: file, preview: file } : file;\n          const src = typeof _file === \"string\" ? _file : _file.preview;\n          const imgProps = {\n            src,\n            width: size,\n            height: size,\n            style: {\n              objectFit: \"cover\",\n              ...maxFiles === 1 ? {} : { width: \"100%\", height: \"100%\" }\n            },\n            alt: typeof _file === \"string\" ? _file : _file.name\n          };\n          return /* @__PURE__ */ React.createElement(\n            import_material.Stack,\n            {\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              display: \"flex\",\n              sx: {\n                width: \"100%\",\n                aspectRatio: maxFiles === 1 ? void 0 : 1,\n                borderRadius: imageBorderRadius,\n                overflow: \"hidden\",\n                position: \"relative\",\n                margin: maxFiles === 1 ? \"auto\" : 0,\n                // border: \"1px solid #ececf0\",\n                boxShadow: \"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px\"\n              },\n              key: src\n            },\n            localImage ? localImage(imgProps) : /* @__PURE__ */ React.createElement(\"img\", { ...imgProps }),\n            /* @__PURE__ */ React.createElement(\n              import_material.Stack,\n              {\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                sx: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  borderRadius: imageBorderRadius,\n                  zIndex: 10,\n                  position: \"absolute\",\n                  top: 0,\n                  left: 0,\n                  bgcolor: \"rgba(255,255,255,0)\",\n                  backdropFilter: \"blur(0)\",\n                  transition: \"all linear 0.25s\",\n                  opacity: 0,\n                  \"&:hover\": {\n                    bgcolor: \"rgba(255,255,255,0.25)\",\n                    backdropFilter: \"blur(5px)\",\n                    opacity: 1\n                  }\n                }\n              },\n              /* @__PURE__ */ React.createElement(\n                import_material.Fab,\n                {\n                  size: \"small\",\n                  color: \"error\",\n                  sx: {\n                    boxShadow: \"none\",\n                    bgcolor: deleteBtnColor,\n                    color: deleteIconColor\n                  },\n                  onClick: (e) => {\n                    const _files = [\n                      ...files.filter((f) => {\n                        const isString = typeof f === \"string\";\n                        const name = isString ? f : f.name;\n                        return name !== _file.name;\n                      })\n                    ];\n                    setFiles(_files);\n                    onImageChange(_files);\n                    e.stopPropagation();\n                  }\n                },\n                deleteIcon ?? /* @__PURE__ */ React.createElement(DeleteIcon, null)\n              )\n            )\n          );\n        })\n      ),\n      /* @__PURE__ */ React.createElement(import_material.Typography, { variant: \"caption\", textAlign: \"center\" }, \"Le nombre maximum d'image est \", maxFiles)\n    )\n  );\n};\nvar DeleteIcon = () => /* @__PURE__ */ React.createElement(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"16\",\n    height: \"16\",\n    fill: \"currentColor\",\n    className: \"bi bi-trash\",\n    viewBox: \"0 0 16 16\"\n  },\n  /* @__PURE__ */ React.createElement(\"path\", { d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\" }),\n  /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\" })\n);\n\n// src/uploadImage.ts\nvar import_storage = require(\"firebase/storage\");\nvar uploadImage = async ({\n  file,\n  storage,\n  isProd = false,\n  path = \"Images\"\n}) => {\n  if (typeof file === \"string\") return file;\n  let _path = path.endsWith(\"/\") ? path.slice(0, -1) : path;\n  if (!_path.trim().length) _path = \"Images\";\n  const fullPath = `${isProd ? \"\" : \"DEV/\"}${_path}/${file.name}`;\n  const storageRef = (0, import_storage.ref)(storage, fullPath);\n  const uploadTask = (0, import_storage.uploadBytesResumable)(storageRef, file);\n  await uploadTask;\n  const url = await (0, import_storage.getDownloadURL)(uploadTask.snapshot.ref);\n  return url;\n};\n\n// src/index.tsx\nvar index_default = ReactImagePicker;\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  ReactImagePicker,\n  uploadImage\n});\n","import { ReactImagePicker } from \"./ReactImagePicker\";\n\nexport * from \"./types\";\n\nexport * from \"./uploadImage\";\n\nexport default ReactImagePicker;\n\nexport * from \"./ReactImagePicker\";\n","import * as React from \"react\";\nimport Dropzone from \"dropzone\";\nimport { Fab, Stack, Typography } from \"@mui/material\";\nimport { useDropzone } from \"react-dropzone\";\nimport { LocalImageType, ReactImagePickerProps } from \"./types\";\n\nDropzone.autoDiscover = false;\n\n/**\n * A React component for selecting and displaying images using a drag-and-drop interface.\n *\n * @param {Object} props - The component props.\n * @param {(File | string)[]} [props.initImage] - Initial images to display.\n * @param {(images: (File | string)[]) => void} props.onImageChange - Callback triggered when the image list changes.\n * @param {number} [props.maxFiles=1] - Maximum number of files that can be selected.\n * @param {string} [props.label] - The label displayed for the image picker.\n * @param {string} [props.description] - Additional text to describe the image picker.\n * @param {React.ReactNode} [props.deleteIcon] - Custom delete icon to be used.\n * @param {string} [props.deleteBtnColor=\"#f44336\"] - Color of the delete button.\n * @param {string} [props.deleteIconColor=\"#ffffff\"] - Color of the delete icon.\n * @param {(props: LocalImageType) => React.ReactNode} [props.localImage] - Custom component to render images.\n * @param {boolean} [props.hideTitle=false] - Flag to hide the title.\n * @param {string} [props.sectionGap=\"15px\"] - Gap between sections (ex: title, description, images, etc...) in pixels.\n * @param {string} [props.imageGap=\"10px\"] - Gap between images in pixels.\n * @param {number} [props.imageGridCount=3] - The number of images to display in the grid.\n * @param {string} [props.imageBorderRadius=\"15px\"] - The border radius of the images.\n * @returns {JSX.Element} The ReactImagePicker component.\n */\nexport const ReactImagePicker: React.FC<ReactImagePickerProps> = ({\n  initImages = [],\n  onImageChange,\n  maxFiles = 1,\n  label = \"Images\",\n  description,\n  deleteIcon,\n  deleteBtnColor = \"#f44336\",\n  deleteIconColor = \"#ffffff\",\n  localImage,\n  hideTitle = false,\n  sectionGap = \"15px\",\n  imageGap = \"10px\",\n  imageGridCount = 3,\n  imageBorderRadius = \"15px\",\n  sx,\n  ...props\n}) => {\n  /**\n   * IMAGES SELECTED BY THE USER\n   */\n  const [files, setFiles] = React.useState<(File | string)[]>(initImages);\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: { \"image/*\": [] },\n    minSize: 1024,\n    maxFiles: maxFiles,\n    multiple: maxFiles === 1 ? false : true,\n    onDropRejected(fileRejections, event) {\n      const multipleText =\n        fileRejections.length > 1\n          ? \"Fichiers ont été réfusés\"\n          : \"Fichier a été réfusé\";\n\n      alert(`${fileRejections.length} ${multipleText}.`);\n    },\n\n    onDrop: (acceptedFiles) => {\n      const newList = [\n        ...files,\n        ...acceptedFiles\n          .map((file) =>\n            Object.assign(file, {\n              preview: URL.createObjectURL(file),\n            })\n          )\n          .filter(\n            (file) =>\n              files.filter((_file: File | string) => {\n                if (typeof _file === \"string\") return false;\n\n                return _file.name === file.name;\n              }).length === 0\n          ),\n      ];\n      /**\n       * CHANGE THE LOCAL VERSION OF THE IMAGES\n       */\n      setFiles(newList);\n\n      /**\n       * CHANGE THE PARENT VERSION TOO\n       */\n      if (onImageChange) {\n        onImageChange(newList);\n      }\n    },\n  });\n\n  /**\n   * USED FOR PERFORMANCE\n   */\n  React.useEffect(\n    () => () => {\n      // Make sure to revoke the data uris to avoid memory leaks\n      files.forEach((file) => URL.revokeObjectURL((file as any).preview));\n    },\n    [files]\n  );\n\n  const reachedLimit = files.length >= maxFiles;\n\n  let gridTemplateColumns = `repeat(${imageGridCount}, 1fr)`;\n  let size = 115;\n\n  if (maxFiles === 1) {\n    gridTemplateColumns = \"1fr\";\n    size = 200;\n  }\n\n  if (maxFiles === 2) {\n    gridTemplateColumns = \"1fr 1fr\";\n    size = 175;\n  }\n\n  return (\n    <Stack\n      {...props}\n      sx={{\n        padding: \"20px\",\n        boxSizing: \"border-box\",\n        aspectRatio: 1,\n        width: 400,\n        ...sx,\n        \"& .dropzone\": { border: 0, p: 0 },\n        overflow: \"visible\",\n      }}\n    >\n      <Stack\n        {...(!reachedLimit ? getRootProps({ className: \"dropzone\" }) : {})}\n        spacing={sectionGap}\n        sx={{ cursor: reachedLimit ? \"auto\" : \"pointer\" }}\n      >\n        <input {...getInputProps()} />\n        {!hideTitle && (\n          <Typography\n            fontWeight={700}\n            fontSize=\"2rem\"\n            lineHeight=\"1em\"\n            textAlign=\"center\"\n          >\n            {label}\n          </Typography>\n        )}\n        <Typography\n          fontWeight={500}\n          fontSize=\"1rem\"\n          lineHeight=\"1.3em\"\n          textAlign=\"center\"\n        >\n          {description ??\n            (!reachedLimit\n              ? \"Vous pouvez ajouter les images en cliquant ici.\"\n              : \"Vous avez ajouté le maximum d'Images possible\")}\n        </Typography>\n        <Stack\n          display=\"grid\"\n          sx={{\n            gridTemplateColumns,\n            gap: imageGap,\n            maxHeight: 380,\n          }}\n        >\n          {files.map((file) => {\n            const fileIsString = typeof file === \"string\";\n\n            const _file = fileIsString\n              ? { name: file as string, preview: file as string }\n              : (file as File);\n\n            const src =\n              typeof _file === \"string\" ? _file : (_file as any).preview;\n\n            const imgProps: LocalImageType = {\n              src: src,\n              width: size,\n              height: size,\n              style: {\n                objectFit: \"cover\",\n                ...(maxFiles === 1 ? {} : { width: \"100%\", height: \"100%\" }),\n              },\n              alt: typeof _file === \"string\" ? _file : (_file as any).name,\n            };\n\n            return (\n              <Stack\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                display=\"flex\"\n                sx={{\n                  width: \"100%\",\n                  aspectRatio: maxFiles === 1 ? undefined : 1,\n                  borderRadius: imageBorderRadius,\n                  overflow: \"hidden\",\n                  position: \"relative\",\n                  margin: maxFiles === 1 ? \"auto\" : 0,\n                  // border: \"1px solid #ececf0\",\n                  boxShadow: \"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px\",\n                }}\n                key={src}\n              >\n                {localImage ? localImage(imgProps) : <img {...imgProps} />}\n                <Stack\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  sx={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    borderRadius: imageBorderRadius,\n                    zIndex: 10,\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    bgcolor: \"rgba(255,255,255,0)\",\n                    backdropFilter: \"blur(0)\",\n                    transition: \"all linear 0.25s\",\n                    opacity: 0,\n\n                    \"&:hover\": {\n                      bgcolor: \"rgba(255,255,255,0.25)\",\n                      backdropFilter: \"blur(5px)\",\n                      opacity: 1,\n                    },\n                  }}\n                >\n                  <Fab\n                    size=\"small\"\n                    color=\"error\"\n                    sx={{\n                      boxShadow: \"none\",\n                      bgcolor: deleteBtnColor,\n                      color: deleteIconColor,\n                    }}\n                    onClick={(e) => {\n                      const _files = [\n                        ...files.filter((f) => {\n                          const isString = typeof f === \"string\";\n                          const name = isString\n                            ? (f as string)\n                            : (f as File).name;\n\n                          return name !== _file.name;\n                        }),\n                      ];\n\n                      setFiles(_files);\n\n                      onImageChange(_files);\n\n                      e.stopPropagation();\n                    }}\n                  >\n                    {deleteIcon ?? <DeleteIcon />}\n                  </Fab>\n                </Stack>\n              </Stack>\n            );\n          })}\n        </Stack>\n        <Typography variant=\"caption\" textAlign=\"center\">\n          {/* Chacune de vos images doit faire au plus 1Mb. <br /> Il vous faut\n          aussi noter que seul les images de format (.JPEG, .JPG, .PNG) sont\n          prise en compte.\n          <br /> */}\n          Le nombre maximum d&apos;image est {maxFiles}\n        </Typography>\n      </Stack>\n    </Stack>\n  );\n};\n\nconst DeleteIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    fill=\"currentColor\"\n    className=\"bi bi-trash\"\n    viewBox=\"0 0 16 16\"\n  >\n    <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\" />\n    <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\" />\n  </svg>\n);\n","import { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { UploadImageType } from \"./types\";\n\n/**\n * Uploads a file to Firebase Storage and returns the download URL.\n * @param {File|string} file The file to upload, or the URL of the file\n * @param {FirebaseStorage} storage The Firebase Storage instance\n * @param {boolean} [isProd=false] Whether or not this is a production upload\n * @param {string} [path='Images'] The path to upload the file to\n * @returns {Promise<string>} The download URL of the uploaded file\n */\nexport const uploadImage: UploadImageType = async ({\n  file,\n  storage,\n  isProd = false,\n  path = \"Images\",\n}): Promise<string> => {\n  if (typeof file === \"string\") return file;\n\n  // The path is the full path including the filename, so we'll remove the trailing slash\n  let _path = path.endsWith(\"/\") ? path.slice(0, -1) : path;\n\n  // If the path is empty, we'll default to \"Images\"\n  if (!_path.trim().length) _path = \"Images\";\n\n  // The full path is the path plus the filename\n  const fullPath = `${isProd ? \"\" : \"DEV/\"}${_path}/${file.name}`;\n\n  // Create a reference to the file\n  const storageRef = ref(storage, fullPath);\n\n  // Start the upload\n  const uploadTask = uploadBytesResumable(storageRef, file);\n\n  // Wait for the upload to finish\n  await uploadTask;\n\n  // Get the download URL\n  const url = await getDownloadURL(uploadTask.snapshot.ref);\n\n  // Return the download URL\n  return url;\n};\n"]}